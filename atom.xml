<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>URIN HACK</title>
  <link href="http://urin.github.io/atom.xml" rel="self"/>
  <link href="http://urin.github.io"/>
  <updated>2013-08-04T00:00:00+09:00</updated>
  <id>http://urin.github.io</id>
  <author>
    <name>うりん</name>
  </author>
  
  <entry>
    <title>Jekyll 1.1系をWindowsに導入する</title>
    <link href="http://urin.github.io/2013/Setup-jekyll-1.1-to-windows"/>
    <updated>2013-08-04T00:00:00+09:00</updated>
    <id>http://urin.github.io/2013/Setup-jekyll-1.1-to-windows</id>
    <content type="html">&lt;p&gt;現時点で最新版の&lt;code&gt;jekyll-1.1.2&lt;/code&gt;をインストールしてみる。Rubyは&lt;code&gt;1.9.3&lt;/code&gt;でやったが&lt;code&gt;2.0.0&lt;/code&gt;でも多分問題ない。&lt;/p&gt;

&lt;h3&gt;Pythonをインストール&lt;/h3&gt;

&lt;p&gt;シンタックスハイライト用の&lt;code&gt;pygments.rb&lt;/code&gt;が使用する。
&lt;code&gt;pygments.rb&lt;/code&gt;によると&lt;code&gt;python&lt;/code&gt;のバージョン&lt;code&gt;2.6&lt;/code&gt;以降であれば何でもいいと書いてあるが、python&lt;code&gt;3&lt;/code&gt;系では動作しない。
よって&lt;code&gt;2.7&lt;/code&gt;をインストールする。&lt;/p&gt;

&lt;p&gt;インストールが終わったら&lt;code&gt;python.exe&lt;/code&gt;のあるディレクトリを&lt;code&gt;PATH&lt;/code&gt;に追加する。&lt;/p&gt;

&lt;h3&gt;easy_install(distribute)をインストール&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://python-distribute.org/distribute_setup.py&quot;&gt;distribute_setup.py&lt;/a&gt;
をダウンロードしてきて&lt;code&gt;python&lt;/code&gt;で実行するだけ。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat language-bat&quot; data-lang=&quot;bat&quot;&gt;python distribute_setup.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Pygmentsをインストール&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;python&lt;/code&gt;のあるディレクトリに&lt;code&gt;Scripts&lt;/code&gt;フォルダができていてその中に&lt;code&gt;easy_install.exe&lt;/code&gt;がある。
ここで&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat language-bat&quot; data-lang=&quot;bat&quot;&gt;&lt;span class=&quot;k&quot;&gt;cd&lt;/span&gt; Scripts
easy_install Pygments
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;とするだけ。&lt;/p&gt;

&lt;h3&gt;pygments.rbのダウングレード&lt;/h3&gt;

&lt;p&gt;シンタックスハイライトを使用しようとすると&lt;code&gt;posix-spawn&lt;/code&gt;やら&lt;code&gt;liquid&lt;/code&gt;やらがエラーを出す。この問題は&lt;a href=&quot;//stackoverflow.com/questions/17364028/jekyll-on-windows-pygments-not-working&quot;&gt;Stack Over Flow&lt;/a&gt;にも挙げられていて対策もあった。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat language-bat&quot; data-lang=&quot;bat&quot;&gt;gem uninstall -a pygments.rb
gem install pygments.rb --version &lt;span class=&quot;s2&quot;&gt;&amp;quot;=0.5.0&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;とバージョンを&lt;code&gt;0.5.0&lt;/code&gt;に下げる。&lt;/p&gt;

&lt;h3&gt;エンコーディングの固定化&lt;/h3&gt;

&lt;p&gt;日本語を使うと&lt;code&gt;jekyll build&lt;/code&gt;でエラーになるのでファイル読み込み時のエンコーディングを&lt;code&gt;UTF-8&lt;/code&gt;固定にする。デフォルトはシステム標準が採用される（つまりWindows日本語版なら&lt;code&gt;Windows-31J&lt;/code&gt;）が、実際のファイルは全て&lt;code&gt;UTF-8&lt;/code&gt;にしたいので。LinuxやMacなんかではシステムのエンコーディングが&lt;code&gt;UTF-8&lt;/code&gt;だから普通は問題ない。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;jekyll&lt;/code&gt;本体に手をつけるハックもネット上で見かけたがよろしくない。
これを&lt;code&gt;_plugins&lt;/code&gt;フォルダに放り込んでおくとjekyllがエンコーディング固定で動くようになる。&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;default_external&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;Encoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:UTF_8&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;以上でWindows特有の環境設定関係はほぼ完了。これ以外の設定なんかは&lt;a href=&quot;//jekyllrb.com/docs/home/&quot;&gt;Jekyllの公式ドキュメント&lt;/a&gt;をひと通り見ながらやれば大体OK。&lt;/p&gt;

&lt;p&gt;さあ、快適なJekyllライフをはじめよう。&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>ブログをリニューアル</title>
    <link href="http://urin.github.io/2013/Renewal"/>
    <updated>2013-08-03T00:00:00+09:00</updated>
    <id>http://urin.github.io/2013/Renewal</id>
    <content type="html">&lt;p&gt;ブログを&lt;code&gt;GitHub Pages&lt;/code&gt;に移転して完全にリニューアルした。CMSは&lt;code&gt;Jekyll&lt;/code&gt;でホストは&lt;code&gt;GitHub&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;//jekyllrb.com/&quot;&gt;Jekyll • Simple, blog-aware, static sites&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;去年あたりから忍者ブログのサービス内容がどんどん劣化していってついに我慢が限界に達した。&lt;/p&gt;

&lt;p&gt;何か新しいことが始まるとき、その多くは「負（怒りや悲しみ）」のモチベーションからスタートすると聞いたことがある。まさに、それだ。&lt;/p&gt;

&lt;h2&gt;Jekyllを選択したわけ&lt;/h2&gt;

&lt;p&gt;ブログサービスを選ぶ判断基準は以下。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;無料で容量制限が厳しくない&lt;/li&gt;
&lt;li&gt;将来性がある（１０年間くらいはサービスが継続すると思われる）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HTML&lt;/code&gt;や&lt;code&gt;CSS&lt;/code&gt;、&lt;code&gt;Javascript&lt;/code&gt;含めてほぼ完全にカスタマイズできる&lt;/li&gt;
&lt;li&gt;余計な広告が入らない&lt;/li&gt;
&lt;li&gt;記事にも&lt;code&gt;HTML&lt;/code&gt;が使えてコードのシンタックスハイライトなどもできる&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;無料のブログサービスを調べる&lt;/h3&gt;

&lt;p&gt;日本向けのブログサービスを見てみたが、どれも数年前と大きく状況が変わっていないようだった。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ninja.co.jp/blog/&quot;&gt;忍者ブログ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.blogger.com/&quot;&gt;Blogger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hatenablog.com/&quot;&gt;はてなブログ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/&quot;&gt;はてなダイアリー&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ameblo.jp/&quot;&gt;Ameba (アメーバ)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.fc2.com/&quot;&gt;FC2ブログ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.livedoor.com/&quot;&gt;ライブドアブログ(livedoor Blog)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;・・・&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;正直どれもパッとしない。忍者ブログはデザインのカスタマイズ性が高いが記事に&lt;code&gt;HTML&lt;/code&gt;を使うのが難しくなったのが致命的だった。
これら伝統的なブログサービス以外の選択肢としては&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.strikingly.com/&quot;&gt;Strikingly - わずか数分でシンプルで美しいモバイルサイトを作成&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wordpress.com/&quot;&gt;WordPress.com - Get a Free Blog Here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wordpress.org/&quot;&gt;WordPress › Blog Tool, Publishing Platform, and CMS&lt;/a&gt;を何らかのサーバ上で運営&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://octopress.org/&quot;&gt;Octopress&lt;/a&gt;をGitHubでホスティング&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.edicy.com/&quot;&gt;Edicy — Create a Website — Easy to use Website Builder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ja.wix.com/&quot;&gt;WIX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.weebly.com/&quot;&gt;Weebly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jp.jimdo.com/&quot;&gt;Jimdo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;というのもあったが、Googleアナリティクスが使えない、Googleアドセンスが使えない、&lt;code&gt;HTML&lt;/code&gt;、&lt;code&gt;CSS&lt;/code&gt;をカスタマイズ出来ないなど色々と不都合があった。
で、この中では&lt;code&gt;Octopress&lt;/code&gt;が&lt;code&gt;Compass&lt;/code&gt;が使えたり色々といいように見えた。しかし・・・&lt;/p&gt;

&lt;h3&gt;結論&lt;/h3&gt;

&lt;p&gt;完全にカスタマイズできて&lt;code&gt;Octopress&lt;/code&gt;のベースにもなっている&lt;code&gt;Jekyll&lt;/code&gt;が今年リリースされたバージョン&lt;code&gt;0.12.0&lt;/code&gt;あたりから
急激に充実してもはや&lt;code&gt;Octopress&lt;/code&gt;なんていらないんじゃね？という勢いを感じたので&lt;code&gt;Jekyll&lt;/code&gt;を&lt;code&gt;GitHub Pages&lt;/code&gt;にホスティングしてもらう形とした。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Jekyll&lt;/code&gt;のスターターキットとして&lt;a href=&quot;http://jekyllbootstrap.com/&quot;&gt;Jekyll-Bootstrap&lt;/a&gt;という&lt;code&gt;Twitter Bootstrap 2&lt;/code&gt;を適用したものが良さげではあったが
開発が停滞気味で&lt;code&gt;Jekyll&lt;/code&gt;本体と&lt;code&gt;Bootstrap&lt;/code&gt;の更新に追いついて行けなさそうな予感がしたので結局、こうした。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;常に最新の&lt;code&gt;Jekyll&lt;/code&gt;が使えるよう余計なプラグインには頼らないようにする。最悪プラグインを自作しておけば動かなくなった時もすぐに直せる。&lt;/li&gt;
&lt;li&gt;レスポンシブ対応のグリッドシステムを持っていて今後も息が長い&lt;code&gt;CSS&lt;/code&gt;フレームワークを使いたい。ということで&lt;a href=&quot;http://getbootstrap.com/&quot;&gt;Bootstrap 3 RC1&lt;/a&gt;を導入。&lt;/li&gt;
&lt;li&gt;アイコンは&lt;code&gt;Web font&lt;/code&gt;がいいので&lt;code&gt;Bootstrap&lt;/code&gt;との相性も良い&lt;a href=&quot;http://fortawesome.github.io/Font-Awesome/&quot;&gt;Font Awesome, the iconic font designed for Bootstrap&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;デザインやサイトの構造などにこだわりたいプログラマブルエンジニアがブログを書くには最適な環境ではないかと思う。
なにせ依存関係が少ない。安定依存の原則。これ重要。&lt;/p&gt;
</content>
  </entry>
  
</feed>
