<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
  <channel>
    <title>URIN HACK</title>
    <description>URIN HACK - うりん</description>
    <link>http://urin.github.io/rss.xml</link>
    <link>http://urin.github.io</link>
    <lastBuildDate>2020-02-28T21:44:08+09:00</lastBuildDate>
    <pubDate>2020-02-28T21:44:08+09:00</pubDate>
    <ttl>1800</ttl>

    <item>
      <title>JavaScriptでローカルタイムのDateオブジェクトを夏時間終了前後のUTCへ変換する</title>
      <description>&lt;p&gt;世界中からアクセスされるWebアプリケーションで時刻を扱うとき夏時間を考慮する必要がある。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;サーバはユーザやクライアント環境(OS)の属しているタイムゾーンを知らない。&lt;/li&gt;
  &lt;li&gt;ユーザの属しているタイムゾーンはクライアント環境(OS)のタイムゾーンと同じ。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;というのが一般的に考えられる状況だ。&lt;/p&gt;

&lt;p&gt;ここで、ある時系列データ（UTC時刻と値のセット）からユーザが入力した時刻（ローカルタイム）範囲に含まれるデータを検索することを考える。&lt;/p&gt;

&lt;p&gt;一般的に夏時間の終了日は１日２５時間となり、同一日に同じ時刻が２度現れることになる。このため論理的にはローカルタイムからUTCへの変換はできないということになる。&lt;/p&gt;

&lt;p&gt;かといって時刻範囲の開始時刻、終了時刻、それぞれの時刻が夏時間かどうか、という入力を求めるのはユーザにとって面倒だ。&lt;/p&gt;

&lt;p&gt;例えばアメリカ合衆国のユーザが時刻範囲の開始時刻として2018年11月4日 午前01:00（夏時間終了の重複時刻）を入力した場合、それは夏時間だろうか。終了時刻の場合はどうだろうか。&lt;/p&gt;

&lt;p&gt;入力した時刻範囲で１日２５時間を網羅することを考えると、開始時刻の場合は夏時間、終了時刻なら夏時間終了後と解釈すべきだろう。&lt;/p&gt;

&lt;p&gt;こんなときクライアント側で夏時間終了前後を指定してローカルタイムをUTCへ変換する簡便な手段が欲しくなる。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;//www.ecma-international.org/ecma-262/10.0/index.html#sec-local-time-zone-adjustment&quot;&gt;ECMAScript® 2019 Language Specification&lt;/a&gt; によると夏時間終了の重複時刻から生成されたDateオブジェクトは、常に夏時間終了前を指すと定義されている。&lt;/p&gt;

&lt;p&gt;つまりJavaScriptで夏時間終了の重複時刻から夏時間終了「後」のUTCを指すDateオブジェクトを得るための正当な方法は無いのだ。&lt;/p&gt;

&lt;p&gt;もし &lt;a href=&quot;//momentjs.com/&quot;&gt;moment.js&lt;/a&gt; を使っていたとしても、その実体はDateオブジェクトなので同じことだ。特定のタイムゾーンから別のタイムゾーンへの変換といった高度な変換が必要な場合には &lt;a href=&quot;//momentjs.com/timezone/&quot;&gt;Moment Timezone&lt;/a&gt; を使ってもいいだろう。&lt;/p&gt;

&lt;p&gt;ここではもっと簡便な手段を考えてみよう。&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;utc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;clock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUTCHours&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUTCMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nextday&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;nextday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adjust&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;clock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;nextday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;clock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;adjust&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;advanced&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adjust&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;advancedUTC&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setUTCMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUTCMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adjust&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;advanced&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;advancedUTC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setUTCMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUTCMinutes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adjust&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ローカルタイム上の翌日同一時刻と元の時刻とのUTC時分の差をとると２４時間以内に夏時間終了に伴って修正された時間（重複期間、多くの場合1時間）がわかる。&lt;/p&gt;

&lt;p&gt;元の時刻をローカルタイム上とUTC上それぞれで重複期間だけ進め、その差がある場合、元の時刻は夏時間終了の重複時刻であることがわかることになる。&lt;/p&gt;

&lt;p&gt;恐らくほとんどのケースではこの対応で十分だろうと思う。&lt;/p&gt;

&lt;p&gt;ほとんど、と書いたのは、時刻を扱うポリシーは慎重に検討されるべきだからだ。&lt;/p&gt;

&lt;p&gt;冒頭で&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;サーバはユーザやクライアント環境(OS)の属しているタイムゾーンを知らない。&lt;/li&gt;
  &lt;li&gt;ユーザの属しているタイムゾーンはクライアント環境(OS)のタイムゾーンと同じ。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;という条件を書いたが、これが本当に守られるか、よく考えてほしい。&lt;/p&gt;

&lt;p&gt;例えば普段は日本に住んでおり一時的にアメリカ合衆国でアプリを使用する場合も、アプリ上の時刻は日本時刻として扱いたい。が、OSのタイムゾーンは現地に合わせるといった使われ方をする場合、クライアント環境のタイムゾーンとユーザが欲するタイムゾーンが違うことになり、上記の関数は意味を成さないことになる。&lt;/p&gt;

&lt;p&gt;また、実はもう一つ重要な前提が隠れている。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;クライアント環境(OS)のタイムゾーンデータベースは正しくメンテナンスされている。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;例えばブラジルの夏時間は毎年実施時期が異なるし、そもそもタイムゾーンというのは人間が決めた法律で年々改定されていくためタイムゾーンデータベースの更新が必要だ。&lt;/p&gt;

&lt;p&gt;もし特殊な事情でそれができないようなクローズド、アンマネージドな環境でそのアプリが使われる場合、上記のような対処では不完全だ。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2020/simple-way-to-convert-local-time-to-utc-on-browser</link>
      <guid>http://urin.github.io//posts/2020/simple-way-to-convert-local-time-to-utc-on-browser</guid>
      <pubDate>2020-02-28T21:44:08+09:00</pubDate>
    </item>

    <item>
      <title>ディレクトリ内の変更内容を監視・表示するbashコマンドdtailを公開</title>
      <description>&lt;p&gt;ディレクトリ内の変更内容を監視・表示するコマンド&lt;a href=&quot;//github.com/urin/dtail&quot;&gt;dtail&lt;/a&gt;を作成した。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dtail&lt;/code&gt;は&lt;a href=&quot;//github.com/rvoicilas/inotify-tools/wiki&quot;&gt;inotify-tools&lt;/a&gt;でファイルの変更イベントを監視して&lt;code class=&quot;highlighter-rouge&quot;&gt;tail -f&lt;/code&gt;でファイルを監視する。&lt;/p&gt;

&lt;p&gt;これを使ってディレクトリを監視すれば、ディレクトリ内に新しく作成されたファイルであったとしてもその内容を監視できることになる。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Usage: dtail [options] [--] path...

Options:
  -r|--recursive
    Watch subdirectories recursively.
  --exclude  &amp;lt;pattern&amp;gt; | --excludei &amp;lt;pattern&amp;gt;
    Exclude files if filename matches &amp;lt;pattern&amp;gt; (POSIX extended regular expression).
    It is case insensitive with --excludei.
  --fromfile &amp;lt;file&amp;gt;
    Read filenames to watch or exclude from a file, one filename per line.
    If filenames begin with @ they are excluded as described above.
  -p|--poolsize &amp;lt;num&amp;gt;
    Maximum number of watching processes. Default 1.

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tail&lt;/code&gt;含めて&lt;a href=&quot;//man7.org/linux/man-pages/man7/inotify.7.html&quot;&gt;inotify&lt;/a&gt;で変更を監視するので監視対象ファイルを周期的にポーリングするような負荷を与えることはない。&lt;/p&gt;

&lt;p&gt;監視対象となるファイルが大量の場合、全てのファイルを同時に監視するのは効率が悪いため、同時に監視できるファイル数一定に制限している。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2019/dtail</link>
      <guid>http://urin.github.io//posts/2019/dtail</guid>
      <pubDate>2019-05-24T16:42:22+09:00</pubDate>
    </item>

    <item>
      <title>C言語で文字列置換</title>
      <description>&lt;p&gt;C言語で文字列置換するコードを探すとネット上で見つかるのは以下のような感じ。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;//stackoverflow.com/questions/779875/what-is-the-function-to-replace-string-in-c&quot;&gt;What is the function to replace string in C? - Stack Overflow&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//www.geeksforgeeks.org/c-program-replace-word-text-another-given-word/&quot;&gt;C program to Replace a word in a text by another given word - GeeksforGeeks&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//qiita.com/edo_m18/items/4f69260d4ae3eaa68907&quot;&gt;[C言語] 文字列の置換を実装してみる - Qiita&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;どれを見ても置換後文字列の格納エリアを自動でメモリ確保するようなものばかりだけど、システム屋としてコードを書き続けているせいか関数内で &lt;code class=&quot;highlighter-rouge&quot;&gt;malloc&lt;/code&gt; することに違和感を感じてしまう。
呼び出し元で責任をもって &lt;code class=&quot;highlighter-rouge&quot;&gt;free&lt;/code&gt; すること、といった実装にすると、責任感のないコーダーによっていとも簡単にメモリリークが埋め込まれてしまう。
最初から置換後のエリアを十分に大きく確保して使うこと、といったスタンスの方がわかりやすくてよい。&lt;/p&gt;

&lt;p&gt;ということで、単に元の文字列を破壊的に文字列置換するなら以下のような感じでいい。&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strstr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;size_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;memmove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;memcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;replace_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;size_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strstr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memmove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;このコードを応用すれば文字→文字列や文字列→文字といった実装も簡単。&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;replace_chr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strchr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;size_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;memmove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;memcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;replace_chr_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;size_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strchr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memmove&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;remain&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;memcpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what_pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with_len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;この関数なんかは例えばASCIIの制御コードをエスケープ文字にしたい時とかに使える。&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;escape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;replace_chr_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\b'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;replace_chr_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\f'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;replace_chr_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\n'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;replace_chr_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\r'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;r&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;replace_chr_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\t'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;t&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
      <link>http://urin.github.io/posts/2018/replace-string-by-c-lang</link>
      <guid>http://urin.github.io//posts/2018/replace-string-by-c-lang</guid>
      <pubDate>2018-10-20T20:07:05+09:00</pubDate>
    </item>

    <item>
      <title>CSSのみでラジオボタンとチェックボックスをトグルボタンにする</title>
      <description>&lt;p&gt;&lt;a href=&quot;https://jp.vuejs.org/index.html&quot;&gt;Vue.js&lt;/a&gt;などでデータバインディングするとき&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;input&amp;gt;&lt;/code&gt;要素がきちんと（セマンティックに）使われて欲しくなる。&lt;code class=&quot;highlighter-rouge&quot;&gt;jQuery&lt;/code&gt;などで見かけ上の動作をされても困るのだ。かといってブラウザデフォルトの&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;input&amp;gt;&lt;/code&gt;の見た目はダサいので格好よくはしたい。&lt;/p&gt;

&lt;p&gt;CSSのみでラジオボタンやチェックボックスをボタン化する方法は色々と紹介されているがフォーカス、キーボード操作、&lt;code class=&quot;highlighter-rouge&quot;&gt;flexbox&lt;/code&gt;によるサイズの自動調整など細かいところまで考慮されたものが少なかったので、その方法を整理してみる。&lt;/p&gt;

&lt;h2 id=&quot;基本形&quot;&gt;基本形&lt;/h2&gt;

&lt;p&gt;この方法のポイントは以下。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;JavaScript不使用&lt;/li&gt;
  &lt;li&gt;シンプルなHTMLマークアップ&lt;/li&gt;
  &lt;li&gt;ボタンサイズ自動調整&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;hover&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;checked&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;disabled&lt;/code&gt;などの&lt;code class=&quot;highlighter-rouge&quot;&gt;input&lt;/code&gt;要素自身の属性のみに応じて見た目が変化&lt;/li&gt;
  &lt;li&gt;フォーカスした時にブラウザが自動で付加する枠がボタンとズレない&lt;/li&gt;
  &lt;li&gt;HTML5バリデーション結果のフィードバックでボタンがきちんとフォーカスされる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;htmlの基本形は以下。&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Radio buttons --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Checkbox --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Checkbox&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ラジオボタンとチェックボックスのカスタマイズ方法を説明しているサイトでは以下の形式もよく紹介されるが&lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt;と&lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;の命名が必須となるので採用しない。&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;for=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox-1&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    Checkbox
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;CSSの基本形は以下の通り。色とborder関係はベースとなるボタンのデザインに合わせる必要がある。&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons.vertical&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;relative&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;radio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;checkbox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;-webkit-appearance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;-moz-appearance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;absolute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;/* appearance: none; for IE11 */&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:-ms-lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;::-ms-backdrop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;radio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:-ms-lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;::-ms-backdrop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;checkbox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;visibility&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hidden&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons.vertical&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:not&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.vertical&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;:not&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:first-child&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;solid&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#567&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-top-left-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-bottom-left-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:not&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.vertical&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;:not&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:last-child&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-top-right-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-bottom-right-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons.vertical&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;:not&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:first-child&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-top&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;solid&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#567&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-top-left-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-top-right-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons.vertical&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;:not&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:last-child&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-bottom-left-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-bottom-right-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;:checked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#345&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.toggle-buttons&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;:disabled&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not-allowed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#def&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;デフォルトのチェックボックスやラジオボタンを消す方法、その上でスタイリングする方法は以下で詳しく研究されている。
&lt;a href=&quot;https://developer.mozilla.org/ja/docs/Learn/HTML/Forms/Advanced_styling_for_HTML_forms&quot;&gt;HTML フォームへの高度なスタイル設定 - ウェブ開発を学ぶ | MDN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.button&lt;/code&gt;に対するスタイルは別途指定されているものとする。これから示すサンプルでは以下を用いる。&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inline-block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.5em&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1em&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#eff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#678&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#567&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;.button&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;:disabled&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not-allowed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nl&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;#def&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;基本形のサンプル&quot;&gt;基本形のサンプル&lt;/h2&gt;

&lt;p&gt;サンプルだけのページは&lt;a href=&quot;/resources/2018-02-04/sample.html&quot;&gt;こちら&lt;/a&gt;。&lt;/p&gt;

&lt;style&gt;
.sample {
  box-sizing: border-box;
  margin: 0;
}

.sample form {
  margin: 1rem;
  padding: 1rem;
  box-shadow: 0 0 3px rgba(0, 0, 0, .3);
}

.sample hr {
  height: 1px;
  background-color: rgba(0, 0, 0, .1);
  border: none;
  box-shadow: none;
  margin: 1rem 0;
}

.sample label {
  margin: 0;
  padding: 0;
  font: inherit;
}

.sample input[type=button].button,
.sample input[type=submit].button,
.sample button.button {
  -webkit-appearance: none;
  -moz-appearance: none;
  border: none;
  font: inherit;
}

.sample button[type=submit].button {
  background-color: #0b73da;
}

.sample .button {
  display: inline-block;
  padding: .5em 1em;
  border-radius: 4px;
  text-align: center;
  color: #eff;
  background-color: #678;
  cursor: pointer;
}

.sample .button:hover {
  background-color: #567;
}

.sample .button:disabled {
  cursor: not-allowed;
  opacity: .6;
  color: #def;
}

.sample .toggle-buttons {
  display: flex;
}

.sample .toggle-buttons.vertical {
  flex-direction: column;
}

.sample .toggle-buttons label {
  display: flex;
  position: relative;
}

.sample .toggle-buttons [type=radio],
.sample .toggle-buttons [type=checkbox] {
  -webkit-appearance: none;
  -moz-appearance: none;
  position: absolute;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

/* appearance: none; for IE11 */
_:-ms-lang(x)::-ms-backdrop, .toggle-buttons [type=radio],
_:-ms-lang(x)::-ms-backdrop, .toggle-buttons [type=checkbox] {
  visibility: hidden;
}

.sample .toggle-buttons .button {
  z-index: 1;
}

.sample .toggle-buttons.vertical .button {
  width: 100%;
}

.sample .toggle-buttons:not(.vertical) :not(:first-child) .button {
  border-left: 1px solid #567;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

.sample .toggle-buttons:not(.vertical) :not(:last-child) .button {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}

.sample .toggle-buttons.vertical :not(:first-child) .button {
  border-top: 1px solid #567;
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

.sample .toggle-buttons.vertical :not(:last-child) .button {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

.sample .toggle-buttons :checked + .button {
  background-color: #345;
}

.sample .toggle-buttons :disabled + .button {
  cursor: not-allowed;
  opacity: .6;
  color: #def;
}
&lt;/style&gt;

&lt;div class=&quot;sample&quot;&gt;
  &lt;form&gt;
    &lt;div class=&quot;toggle-buttons&quot;&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
    &lt;hr /&gt;
    &lt;div class=&quot;toggle-buttons&quot;&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; required=&quot;&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio (required)&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; disabled=&quot;&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Disabled&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
    &lt;hr /&gt;
    &lt;button type=&quot;submit&quot; class=&quot;button&quot;&gt;Submit&lt;/button&gt;
  &lt;/form&gt;
  &lt;form&gt;
    &lt;div class=&quot;toggle-buttons&quot;&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Checkbox&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
    &lt;hr /&gt;
    &lt;div class=&quot;toggle-buttons&quot;&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; disabled=&quot;&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Disabled&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; checked=&quot;&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Checkbox&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Checkbox&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
    &lt;hr /&gt;
    &lt;div class=&quot;toggle-buttons&quot;&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Checkbox&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; checked=&quot;&quot; /&gt;
        &lt;div class=&quot;button&quot;&gt;
          Multiple&lt;br /&gt;
          lines
        &lt;/div&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;checkbox&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Checkbox&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
  &lt;/form&gt;
&lt;/div&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio (required)&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;disabled&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Disabled&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;button&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Submit&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Checkbox&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;disabled&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Disabled&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Checkbox&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Checkbox&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;hr&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Checkbox&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
        Multiple&lt;span class=&quot;nt&quot;&gt;&amp;lt;br&amp;gt;&lt;/span&gt;
        lines
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;checkbox&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Checkbox&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;縦型配置のサンプル&quot;&gt;縦型配置のサンプル&lt;/h2&gt;

&lt;div class=&quot;sample&quot;&gt;
  &lt;form&gt;
    &lt;div class=&quot;toggle-buttons vertical&quot;&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; disabled=&quot;&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Disabled&lt;/span&gt;
      &lt;/label&gt;
      &lt;label&gt;
        &lt;input type=&quot;radio&quot; name=&quot;radio-1&quot; /&gt;
        &lt;span class=&quot;button&quot;&gt;Radio&lt;/span&gt;
      &lt;/label&gt;
    &lt;/div&gt;
  &lt;/form&gt;
&lt;/div&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;toggle-buttons vertical&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;disabled&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Disabled&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;label&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;radio-1&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Radio&lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/label&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
      <link>http://urin.github.io/posts/2018/pure-css-radio-buttons-and-checkboxes-as-toggle-buttons</link>
      <guid>http://urin.github.io//posts/2018/pure-css-radio-buttons-and-checkboxes-as-toggle-buttons</guid>
      <pubDate>2018-02-04T15:32:56+09:00</pubDate>
    </item>

    <item>
      <title>特定のユーザ権限でのみ実行されるシェルスクリプト</title>
      <description>&lt;p&gt;あるシェルスクリプト（commands.sh とする）を特定のユーザ権限でのみ実行されるようにすることを考える。&lt;/p&gt;

&lt;p&gt;commands.sh の所有者が someone であれば sticky bit を使うだけでよい。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;chmod u+s commands.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;所有権が自分以外に変更できない場合、&lt;code class=&quot;highlighter-rouge&quot;&gt;su&lt;/code&gt; すればいいだけだが &lt;code class=&quot;highlighter-rouge&quot;&gt;su&lt;/code&gt; を忘れてしまうのを避けるにはどうするか。&lt;/p&gt;

&lt;p&gt;以下のような方法を考えてみた。（&lt;code class=&quot;highlighter-rouge&quot;&gt;bash&lt;/code&gt; 限定）&lt;/p&gt;

&lt;p&gt;as_someone というファイルを準備する。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$USER&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;someone&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;s1&quot;&gt;'Enter someone '&lt;/span&gt;
  su - someone -c &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;readlink -f &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$*&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;exit
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;このファイルには実行権はつけず、someone として実行させたいシェルスクリプトと同じディレクトリに置く。&lt;/p&gt;

&lt;p&gt;commands.sh は以下のようにすればよい。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
. &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;dirname &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;/as_someone

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Following commands are executed by someone.&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I am &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$USER&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
env
 :
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;これで commands.sh は someone として実行することもできるし、間違って別ユーザで実行した場合でもパスワードさえ入力すれば someone として実行される。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2017/run-bash-commands-as-a-user</link>
      <guid>http://urin.github.io//posts/2017/run-bash-commands-as-a-user</guid>
      <pubDate>2017-11-30T20:15:39+09:00</pubDate>
    </item>

    <item>
      <title>Linuxローカル環境用に最小限のyumリポジトリを作成する方法</title>
      <description>&lt;p&gt;環境的に&lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt;が使えない（例えばインターネット接続がない、OSメディアをマウントできない）Linuxマシンに&lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt;でパッケージを追加インストールするための、最小のローカルリポジトリとインストーラを別のPC上で作成する方法。&lt;/p&gt;

&lt;h2 id=&quot;概略&quot;&gt;概略&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt;が使えないRed Hat Enterprise LinuxもしくはCentOSマシンを target と呼ぶ。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;target と同じバージョンの Linux 仮想マシンを最小インストールで新規作成する。これを source と呼ぶ。
source はインターネットもしくはOSメディアなどを利用して&lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt;が利用できる環境とする。
仮想マシンを作成する方法は割愛。&lt;/li&gt;
  &lt;li&gt;source 上でローカル環境向けのリポジトリを作成する。これを repo と呼ぶ。&lt;/li&gt;
  &lt;li&gt;target に repo をコピーして&lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt;で repo 内のパッケージを target にインストールする。&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;repo-の作成&quot;&gt;repo の作成&lt;/h2&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# makelocalrepo.sh - Make local minimal yum repository&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; -eu

&lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$# &lt;/span&gt;&amp;gt; 1 &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;basename &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; dest package...&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;  dest:    Name of local repository to create. dest.tar.gz is created.&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;  package: Name of yum package to include into dest.&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;1
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;%.tar.gz&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; ! -e &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; should not exist.&quot;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;1
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;shift
&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$*&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/repo&quot;&lt;/span&gt;

rpm -q --quiet yum-utils &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; yum install -y yum-utils
mkdir -p &lt;span class=&quot;nv&quot;&gt;$repo&lt;/span&gt;
yumdownloader --resolve --destdir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$repo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$packages&lt;/span&gt;
rpm -q --quiet createrepo &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; yum install -y createrepo
createrepo &lt;span class=&quot;nv&quot;&gt;$repo&lt;/span&gt;

cat &amp;gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/install.sh&quot;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&amp;lt;&amp;lt;EOS
#!/bin/bash
set -eu

cat &amp;gt; /etc/yum.repos.d/localrepo.repo &amp;lt;&amp;lt;EOF
[localrepo]
name=localrepo
baseurl=file://\$(readlink -f \$(dirname &quot;\$0&quot;))/repo
enabled=0
gpgcheck=0
EOF

yum --disablerepo=* --enablerepo=localrepo -y install $packages
EOS

&lt;/span&gt;chmod +x &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/install.sh&quot;&lt;/span&gt;
tar czf &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.tar.gz&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$dest&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;というシェルスクリプトを準備して後はインストールしたいパッケージを指定して実行する。&lt;/p&gt;

&lt;p&gt;例えば &lt;code class=&quot;highlighter-rouge&quot;&gt;nodejs&lt;/code&gt; と &lt;code class=&quot;highlighter-rouge&quot;&gt;ruby&lt;/code&gt; をインストールしたければ&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo makelocalrepo.sh localrepo nodejs ruby
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;とするとカレントディレクトリに localrepo というディレクトリと localrepo.tar.gz というファイルが作成される。
localrepo.tar.gz にインストーラとリポジトリが含まれる。&lt;/p&gt;

&lt;p&gt;ちなみに&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;yum&lt;/code&gt;の downloadonly プラグインは非推奨となっており&lt;code class=&quot;highlighter-rouge&quot;&gt;yumdownloader&lt;/code&gt;が今後(CentOS 6,RHEL 6以降)の推奨になっている。&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;yumdownloader&lt;/code&gt;の resolve オプションで依存関係も全て解決される。ありがたい。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;target-へ-repo-をインストール&quot;&gt;target へ repo をインストール&lt;/h2&gt;

&lt;p&gt;出来上がったファイル（上の例では localrepo.tar.gz ）を target へコピーして以下を target 上で実行する。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo tar xzf localrepo.tar.gz
sudo &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;localrepo &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ./install.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
      <link>http://urin.github.io/posts/2017/create-local-minimal-yum-repository</link>
      <guid>http://urin.github.io//posts/2017/create-local-minimal-yum-repository</guid>
      <pubDate>2017-02-25T14:36:25+09:00</pubDate>
    </item>

    <item>
      <title>fluent-plugin-dstatで取得した値が不正になる問題を解決</title>
      <description>&lt;p&gt;&lt;a href=&quot;//github.com/shun0102/fluent-plugin-dstat/tree/v0.3.2&quot;&gt;shun0102/fluent-plugin-dstat at v0.3.2&lt;/a&gt;で1秒周期にデータ収集していたら取得した値が明らかに不正になる時があったので、それを解決して&lt;a href=&quot;//github.com/shun0102/fluent-plugin-dstat/pull/16&quot;&gt;Pull Request&lt;/a&gt;し&lt;a href=&quot;https://github.com/shun0102/fluent-plugin-dstat/tree/v0.3.3&quot;&gt;v0.3.3&lt;/a&gt;としてマージされた。&lt;/p&gt;

&lt;h2 id=&quot;問題を確認した環境&quot;&gt;問題を確認した環境&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;td-agent 2.3.1 (fluentd 0.12.20)&lt;/li&gt;
  &lt;li&gt;fluent-plugin-dstat 0.3.2&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;問題の内容&quot;&gt;問題の内容&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;//github.com/dagwieers/dstat&quot;&gt;dstat&lt;/a&gt;から取得した値がリソースなどに依らず全て不正な値となることがある。
常時ある程度の負荷（CPU負荷20%程度）がかかっている環境で1秒周期で収集した場合、発生頻度は５～１５分に１度程度。&lt;/p&gt;

&lt;h2 id=&quot;不正な値となる原因&quot;&gt;不正な値となる原因&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;fluent-plugin-dstat&lt;/code&gt; は 子プロセスとして &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; プロセスを生成し &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; は &lt;code class=&quot;highlighter-rouge&quot;&gt;/tmp/dstat.csv&lt;/code&gt; というファイルに収集したデータを書く。
&lt;code class=&quot;highlighter-rouge&quot;&gt;fluent-plugin-dstat&lt;/code&gt; はそのファイルを0.5秒周期で監視し変化があった時、ファイルの内容を解析しJSON化する。&lt;/p&gt;

&lt;p&gt;このように一時ファイル経由でのデータ授受をしているが、読みだす側のプロセス &lt;code class=&quot;highlighter-rouge&quot;&gt;fluent-plugin-dstat&lt;/code&gt; と書き込む側のプロセス &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; 間で同期（排他）を取っていない。
つまり何らかの要因（主にOS）で書き込み側のバッファがflushされた時、読み込んだデータは不完全な（カラムが欠落した）行を含む可能性があるが、それが考慮されていなかった。&lt;/p&gt;

&lt;h2 id=&quot;対策&quot;&gt;対策&lt;/h2&gt;

&lt;p&gt;ファイルから読み込んだデータが改行で終わっていなかったら、その行はJSON化せず内部に保持し、次に読み込んだ先頭行と連結するようにした。&lt;/p&gt;

&lt;p&gt;これで不正値になることはなくなりかなり安定した。が、ほぼ一定の周期でデータが数点抜ける。&lt;/p&gt;

&lt;p&gt;ソースを見ると &lt;code class=&quot;highlighter-rouge&quot;&gt;fluent-plugin-dstat&lt;/code&gt; は100行読み込む度に &lt;code class=&quot;highlighter-rouge&quot;&gt;/tmp/dstat.csv&lt;/code&gt; をクリアしていた。
同期なしに２つのプロセスが同一のファイルに書き込むので、データ抜けが起こるのも当然だった。&lt;/p&gt;

&lt;p&gt;確かに誰かが一時ファイルをクリアしないとファイルが肥大化し続けてしまう。&lt;/p&gt;

&lt;p&gt;そもそも &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; が標準出力に吐いてくれればファイルの肥大化など気にする必要もないのだが、解析に適したCSV形式の出力先に標準出力や標準エラー出力を選ぶオプションはなかった。&lt;/p&gt;

&lt;p&gt;やりたいことは単なるデータの受け渡しで、しかも &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; はLinux限定のコマンドなので、一時ファイルとして&lt;a href=&quot;//ja.wikipedia.org/wiki/%E5%90%8D%E5%89%8D%E4%BB%98%E3%81%8D%E3%83%91%E3%82%A4%E3%83%97&quot;&gt;fifo(名前付きパイプ)&lt;/a&gt;を使うことにした。そうするとファイルのクリア処理自体が不要となる。&lt;/p&gt;

&lt;h2 id=&quot;解決と思ったら&quot;&gt;解決！と思ったら・・・&lt;/h2&gt;

&lt;p&gt;まだほぼ一定の周期（15分程度）でデータが数点抜ける・・・。調べるとほぼ一定の周期で &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; が死んで &lt;code class=&quot;highlighter-rouge&quot;&gt;fluent-plugin-dstat&lt;/code&gt; が &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; プロセスを再生成してた。&lt;/p&gt;

&lt;h2 id=&quot;dstatが死ぬ原因と対策&quot;&gt;dstatが死ぬ原因と対策&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;fluent-plugin-dstat&lt;/code&gt; は&lt;a href=&quot;//docs.ruby-lang.org/ja/latest/method/IO/s/popen.html&quot;&gt;IO.popen&lt;/a&gt;で &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; プロセスを生成していたが、ここで作成されるパイプが満杯になると &lt;code class=&quot;highlighter-rouge&quot;&gt;dstat&lt;/code&gt; が死ぬようだった。パイプのサイズは大体 65536 バイト。対策は簡単。パイプが満杯にならないよう標準出力と標準エラー出力を捨てるようにすればいい。&lt;/p&gt;

&lt;h2 id=&quot;結果&quot;&gt;結果&lt;/h2&gt;

&lt;p&gt;これらを全て解決して&lt;a href=&quot;//github.com/shun0102/fluent-plugin-dstat/pull/16&quot;&gt;Pull Request&lt;/a&gt;し&lt;a href=&quot;https://github.com/shun0102/fluent-plugin-dstat/tree/v0.3.3&quot;&gt;v0.3.3&lt;/a&gt;としてマージされた。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2016/pull-request-for-fluent-plugin-dstat-0.3.2</link>
      <guid>http://urin.github.io//posts/2016/pull-request-for-fluent-plugin-dstat-0.3.2</guid>
      <pubDate>2016-11-12T13:02:30+09:00</pubDate>
    </item>

    <item>
      <title>logrotate.bat - Windowsのバッチファイルでログローテート</title>
      <description>&lt;p&gt;Windowsでログローテートするバッチを書いた。調べた感じだと上限サイズ指定ができるようなものを作った人はいなかったみたい。&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/urin/3b68e8388cc34a688d13.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;例えばバッチ処理などを行う時にログを出力する処理の直前で呼び出す。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set logfile=&quot;path\to\logfile.log&quot;
logrotate.bat %logfile% 1 10K
echo The quick brown fox jumps over the lazy dog. &amp;gt;&amp;gt; %logfile%
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;こんな処理を繰返していくとログサイズが10KBを超えた時にローテートされる。&lt;/p&gt;

&lt;p&gt;常駐プロセスの標準出力をリダイレクトしておいて定期的に呼び出しても良い。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2015/logrotate-batch-on-windows</link>
      <guid>http://urin.github.io//posts/2015/logrotate-batch-on-windows</guid>
      <pubDate>2015-09-19T22:23:55+09:00</pubDate>
    </item>

    <item>
      <title>C++で無名関数の関数ポインタを作る</title>
      <description>&lt;p&gt;無名関数（ラムダとも呼ばれる）のメリットは大きい。&lt;/p&gt;

&lt;p&gt;プログラミングで頭を悩ませるのは命名だ。プログラマが「名付け」を省略できるとコーディングの効率が大幅に上がり、命名ミスによって引き起こされる勘違い（バグ）もなくなる。&lt;/p&gt;

&lt;p&gt;シグナルハンドラや&lt;code class=&quot;highlighter-rouge&quot;&gt;qsort&lt;/code&gt;、スレッド生成等のAPIを使うときに関数ポインタを引数として渡す必要があるが、たとえそれが１度限りの再利用されない処理だとしてもわざわざ関数化する必要がある。こういう時はなおさら命名に困る。&lt;/p&gt;

&lt;p&gt;更に悪いことに、その１度限りの関数は呼び出し元となる関数の外側に定義（実装）する必要があるためコードが分散してしまう。&lt;/p&gt;

&lt;p&gt;最新の&lt;code class=&quot;highlighter-rouge&quot;&gt;C++&lt;/code&gt;では&lt;a href=&quot;//ja.wikipedia.org/wiki/C%2B%2B11#.E3.83.A9.E3.83.A0.E3.83.80.E9.96.A2.E6.95.B0.E3.81.A8.E3.83.A9.E3.83.A0.E3.83.80.E5.BC.8F&quot;&gt;ラムダ&lt;/a&gt;が言語仕様として正式に規定されており単純な関数ポインタ以上の高度な機能を持っている。コンパイルオプションで&lt;code class=&quot;highlighter-rouge&quot;&gt;-std=c++11&lt;/code&gt;などを使えばラムダを使用することができる。&lt;/p&gt;

&lt;p&gt;コンパイルオプションを指定せずとも、無名関数を定義しその関数ポインタを得るだけであれば以下のようにすればよい。内部的には&lt;code class=&quot;highlighter-rouge&quot;&gt;C++&lt;/code&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;struct&lt;/code&gt;の機能を使用しているため&lt;code class=&quot;highlighter-rouge&quot;&gt;C&lt;/code&gt;としてはコンパイルできない。&lt;/p&gt;

&lt;h3 id=&quot;無名関数を定義するマクロ&quot;&gt;無名関数を定義するマクロ&lt;/h3&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 無名関数ポインタを返す。
// argumentsは括弧で囲った引数リスト。
// contentsは (({})) のように中括弧と２つの括弧で処理本体を囲う。
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;#define lambda(return_type, arguments, contents) ({ \
  struct { static return_type _ arguments { contents; } } _; _._; \
})
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;サンプル&quot;&gt;サンプル&lt;/h3&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;pthread.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#define lambda(return_type, arguments, contents) ({ \
  struct { static return_type _ arguments { contents; } } _; _._; \
})
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// qsortの引数に無名関数を渡すサンプル
&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;qsort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lambda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(({&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})))&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// pthread_createの引数に無名関数を渡すサンプル
&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;//
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;pthread_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pthread_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lambda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(({&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;puts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;I'm thread.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}))),&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;NULL&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
      <link>http://urin.github.io/posts/2015/labmda-without-stdcpp</link>
      <guid>http://urin.github.io//posts/2015/labmda-without-stdcpp</guid>
      <pubDate>2015-04-05T22:00:40+09:00</pubDate>
    </item>

    <item>
      <title>Jekyll 2.3.0をWindowsに導入</title>
      <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll 2.3.0&lt;/code&gt;を&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby 2.0.0&lt;/code&gt;+&lt;code class=&quot;highlighter-rouge&quot;&gt;Windows&lt;/code&gt;へ導入する方法。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install jekyll
jekyll new jekyll-install-test
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;jekyll-install-test
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;pygmentsrbの代わりにrouge&quot;&gt;pygments.rbの代わりに&lt;a href=&quot;https://github.com/jneen/rouge&quot;&gt;rouge&lt;/a&gt;&lt;/h3&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll build
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;するとエラー。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Generating... {...略...}/lib/posix/spawn.rb:162: warning: cannot close fd before spawn
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;//tech.nitoyon.com/ja/blog/2013/11/14/jekyll-win/&quot;&gt;こちら&lt;/a&gt;にもある通り&lt;code class=&quot;highlighter-rouge&quot;&gt;Windows&lt;/code&gt;に導入する場合は&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments.rb&lt;/code&gt;は&lt;code class=&quot;highlighter-rouge&quot;&gt;0.5.0&lt;/code&gt;にする必要があるのだが、&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll 2.3.0&lt;/code&gt;は&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments.rb 0.6.0&lt;/code&gt;に依存しているためバージョンダウンできない。&lt;/p&gt;

&lt;p&gt;代わりに&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby&lt;/code&gt;製の&lt;code class=&quot;highlighter-rouge&quot;&gt;rouge&lt;/code&gt;が使えるようになっているのでそれを使うようにすれば問題ない。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;rouge&lt;/code&gt;の方が対応言語は少ないが基本的に&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments&lt;/code&gt;互換で動作するので既に&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments&lt;/code&gt;で動いていた記事はほぼそのまま使える。&lt;/p&gt;

&lt;p&gt;無理に&lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt;製の&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments&lt;/code&gt;を動かすより軽くて良い。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install rouge
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;で&lt;code class=&quot;highlighter-rouge&quot;&gt;rouge&lt;/code&gt;をインストールしたら&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;で&lt;code class=&quot;highlighter-rouge&quot;&gt;rouge&lt;/code&gt;を使うよう以下の行を追加する。&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;highlighter&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rouge&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;これでシンタックスハイライトを含んだ記事の&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt;はできるようになった。&lt;/p&gt;

&lt;h3 id=&quot;wdmのインストール&quot;&gt;wdmのインストール&lt;/h3&gt;

&lt;p&gt;ローカル環境で確認するときに&lt;code class=&quot;highlighter-rouge&quot;&gt;--watch&lt;/code&gt;を使おうとすると警告が出る。警告の内容は、&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;wdm&lt;/code&gt;が入ってないからディレクトリのポーリングが必要だよ（ちょっと重いってことだよ）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;これが嫌なら単にインストールすれば良い。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install wdm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;まとめると&quot;&gt;まとめると&lt;/h2&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install jekyll rouge wdm
jekyll new jekyll-install-test
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;jekyll-install-test
&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;highlighter: rouge&amp;gt;&amp;gt; _config.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;以上で環境構築は終わり。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2014/install-jekyll-2.3.0-to-windows</link>
      <guid>http://urin.github.io//posts/2014/install-jekyll-2.3.0-to-windows</guid>
      <pubDate>2014-08-14T23:59:32+09:00</pubDate>
    </item>

    <item>
      <title>Jekyll 1.4.2をRuby 2.0.0+Windowsに導入</title>
      <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll 1.4.2&lt;/code&gt;を&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby 2.0.0&lt;/code&gt;+&lt;code class=&quot;highlighter-rouge&quot;&gt;Windows&lt;/code&gt;へ導入する方法。&lt;/p&gt;

&lt;h2 id=&quot;導入してみる&quot;&gt;導入してみる&lt;/h2&gt;
&lt;p&gt;前提は以下の通り。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;//rubyinstaller.org/downloads/&quot;&gt;RubyInstaller for Windows&lt;/a&gt;で&lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby 2.0.0&lt;/code&gt;と&lt;code class=&quot;highlighter-rouge&quot;&gt;DevKit&lt;/code&gt;をインストール&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments&lt;/code&gt;はインストール済み。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これらは&lt;a href=&quot;//tech.nitoyon.com/ja/blog/2013/11/14/jekyll-win/&quot;&gt;Windows で Jekyll 1.3 を動かすまでの手順 - てっく煮ブログ&lt;/a&gt;にある通り。&lt;/p&gt;

&lt;h3 id=&quot;jekyllのバージョン&quot;&gt;Jekyllのバージョン&lt;/h3&gt;
&lt;p&gt;現時点(2014年2月)では最新版は&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll 1.4.3&lt;/code&gt;だが、調べたところ以下の通りWindowsでは&lt;code class=&quot;highlighter-rouge&quot;&gt;1.4.2&lt;/code&gt;を使ってくださいとのこと。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;//stackoverflow.com/questions/21137096/jekyll-error-running-jekyll-serve&quot;&gt;ruby - Jekyll - Error Running ‘Jekyll Serve’ - Stack Overflow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;というわけで&lt;code class=&quot;highlighter-rouge&quot;&gt;1.4.2&lt;/code&gt;をインストール。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install jekyll --version &lt;span class=&quot;s2&quot;&gt;&quot;=1.4.2&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;で、とりあえずサイトを新規作成。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkdir jekyll-install-test
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;jekyll-install-test
jekyll new .
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;yajl-rubyのバージョン&quot;&gt;yajl-rubyのバージョン&lt;/h3&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll build
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;するとエラー。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Liquid Exception: cannot load such file -- yajl/2.0/yajl in _posts/2014-03-02-welcome-to-jekyll.markdown
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;//www.kahfei.com/?cat=17&quot;&gt;kahfei ｜ jekyll&lt;/a&gt;の通り&lt;code class=&quot;highlighter-rouge&quot;&gt;yajl-ruby&lt;/code&gt;を更新する必要がある。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gem list&lt;/code&gt;して yajl-ruby (1.1.0 x86-mingw32) となっているなら&lt;code class=&quot;highlighter-rouge&quot;&gt;yajl-ruby&lt;/code&gt;を再インストールする。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem uninstall yajl-ruby
gem install yajl-ruby --version &lt;span class=&quot;s2&quot;&gt;&quot;=1.1.0&quot;&lt;/span&gt; --platform&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ruby
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;途中で依存関係の問い合わせがあるがYesで続行。&lt;code class=&quot;highlighter-rouge&quot;&gt;gem list&lt;/code&gt;で&lt;code class=&quot;highlighter-rouge&quot;&gt;yajl-ruby (1.1.0)&lt;/code&gt;となっていればOK。&lt;/p&gt;

&lt;h3 id=&quot;pygmentsrbのバージョン&quot;&gt;pygments.rbのバージョン&lt;/h3&gt;

&lt;p&gt;まだ&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt;は通らない。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Generating... C:/Ruby/Ruby200/lib/ruby/gems/2.0.0/gems/posix-spawn-0.3.8/lib/posix/spawn.rb:162: warning: cannot close fd before spawn
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;//tech.nitoyon.com/ja/blog/2013/11/14/jekyll-win/&quot;&gt;こちら&lt;/a&gt;にもある通り&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments.rb&lt;/code&gt;は&lt;code class=&quot;highlighter-rouge&quot;&gt;0.5.0&lt;/code&gt;にする必要がある。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem uninstall pygments.rb
gem install pygments.rb --version &lt;span class=&quot;s2&quot;&gt;&quot;=0.5.0&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;C:\path\to\jekyll-install-test&amp;gt;jekyll build
Configuration file: C:/path/to/jekyll-install-test/_config.yml
            Source: C:/path/to/jekyll-install-test
       Destination: C:/path/to/jekyll-install-test/_site
      Generating... done.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;これでシンタックスハイライトを含んだ投稿の&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt;はできるようになった。&lt;/p&gt;

&lt;h3 id=&quot;wdmのインストール&quot;&gt;wdmのインストール&lt;/h3&gt;

&lt;p&gt;ローカル環境で確認するときに&lt;code class=&quot;highlighter-rouge&quot;&gt;--watch&lt;/code&gt;を使おうとするとエラーとなる。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;C:\path\to\jekyll-install-test&amp;gt;jekyll serve --watch
Configuration file: C:/Users/urin/Desktop/fda/_config.yml
            Source: C:/Users/urin/Desktop/fda
       Destination: C:/Users/urin/Desktop/fda/_site
      Generating... done.
 Auto-regeneration: enabled
C:/Ruby/Ruby200/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- wdm (LoadError)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;wdm&lt;/code&gt;がインストールされていないだけ。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install wdm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;以上で環境構築は終わり。&lt;/p&gt;

&lt;h2 id=&quot;まとめると&quot;&gt;まとめると&lt;/h2&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install jekyll --version &lt;span class=&quot;s2&quot;&gt;&quot;=1.4.2&quot;&lt;/span&gt;
gem uninstall yajl-ruby
gem install yajl-ruby --version &lt;span class=&quot;s2&quot;&gt;&quot;=1.1.0&quot;&lt;/span&gt; --platform&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ruby
gem uninstall pygments.rb
gem install pygments.rb --version &lt;span class=&quot;s2&quot;&gt;&quot;=0.5.0&quot;&lt;/span&gt;
gem install wdm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
      <link>http://urin.github.io/posts/2014/install-jekyll-1.4.2-to-windows</link>
      <guid>http://urin.github.io//posts/2014/install-jekyll-1.4.2-to-windows</guid>
      <pubDate>2014-03-02T22:47:46+09:00</pubDate>
    </item>

    <item>
      <title>設置が超簡単でカスタマイズ性の高い吹き出しホバー用jQueryプラグインjquery.balloon.js</title>
      <description>&lt;p&gt;設置が超簡単でカスタマイズ性の高い吹き出しホバー用&lt;code class=&quot;highlighter-rouge&quot;&gt;jQuery&lt;/code&gt;プラグイン&lt;code class=&quot;highlighter-rouge&quot;&gt;jquery.balloon.js&lt;/code&gt;の使い方。
設置方法は&lt;code class=&quot;highlighter-rouge&quot;&gt;jQuery&lt;/code&gt;と本プラグインの&lt;code class=&quot;highlighter-rouge&quot;&gt;javascript&lt;/code&gt;ファイルのみで&lt;code class=&quot;highlighter-rouge&quot;&gt;CSS&lt;/code&gt;や画像などは不要。どこにでも簡単に設置することができる。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/jquery.balloon.js&quot; title=&quot;デモページヘ&quot; class=&quot;block&quot;&gt;&lt;img src=&quot;/img/posts/2014/2014-02-11-jquery.balloon.js-demo-screenshot.png&quot; alt=&quot;jquery.balloon.js demo page&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;設置方法&quot;&gt;設置方法&lt;/h3&gt;

&lt;p&gt;(1) プラグインをダウンロードして、&lt;code class=&quot;highlighter-rouge&quot;&gt;jQuery&lt;/code&gt;の後にスクリプトファイルを読み込む。&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;js/jquery.balloon.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;(2) ドキュメントの&lt;code class=&quot;highlighter-rouge&quot;&gt;ready&lt;/code&gt;イベント（など）で&lt;code class=&quot;highlighter-rouge&quot;&gt;$().balloon(options)&lt;/code&gt;を実行する。&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;selectors&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;balloon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;デモとダウンロード&quot;&gt;デモとダウンロード&lt;/h3&gt;

&lt;p&gt;以下がデモページ。最新版のダウンロードリンクはデモページ内にある。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/jquery.balloon.js&quot; title=&quot;デモページヘ&quot; class=&quot;block&quot;&gt;&lt;img src=&quot;/img/posts/2014/2014-02-11-jquery.balloon.js-demo-thumbnail.png&quot; alt=&quot;jquery.balloon.js demo page&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;オプション&quot;&gt;オプション&lt;/h3&gt;
&lt;div class=&quot;panel panel-default&quot;&gt;
  &lt;table class=&quot;table table-bordered table-striped table-hover&quot;&gt;
    &lt;thead&gt;
      &lt;tr&gt;&lt;th colspan=&quot;2&quot; style=&quot;width: 250px;&quot;&gt;オプション&lt;/th&gt;&lt;th style=&quot;width: 250px;&quot;&gt;デフォルト値&lt;/th&gt;&lt;th&gt;説明&lt;/th&gt;&lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;contents&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;吹き出しの内容。文字列（HTML）、jQueryオブジェクト、&lt;code&gt;null&lt;/code&gt;のいずれか。&lt;code&gt;null&lt;/code&gt;の場合は、対象となる要素の&lt;code&gt;title&lt;/code&gt;もしくは&lt;code&gt;alt&lt;/code&gt;属性を使用する。吹き出しの中身となるべきものが存在しなければ吹き出し自体が表示されない。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;url&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;吹き出しの内容をAjax取得する場合に使用されるURL。Ajaxでの取得完了までの間は、&lt;code&gt;contents&lt;/code&gt;が使用され、Ajaxでのデータ取得完了で、その内容に置き換えられる。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;ajaxComplete&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;Ajaxでのデータ取得完了時コールバック関数。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;classname&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;吹き出しに付加されるclass名。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;position&lt;/td&gt;
        &lt;td&gt;&quot;top&quot;&lt;/td&gt;
        &lt;td&gt;吹き出し表示の位置。対象の要素位置（中心）からの相対位置を文字列で指定する。&lt;code&gt;&quot;top&quot;&lt;/code&gt;, &lt;code&gt;&quot;bottom&quot;&lt;/code&gt;, &lt;code&gt;&quot;left&quot;&lt;/code&gt;, &lt;code&gt;&quot;right&quot;&lt;/code&gt;のいずれか２つまでをスペースで区切って指定。例えば&lt;code&gt;&quot;bottom&quot;&lt;/code&gt;を指定した場合、縦方向の位置は要素の下端で、横方向の位置は対象の中心となる。&lt;code&gt;null&lt;/code&gt;の場合は、要素の中心と吹き出しの中心が同じになる。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;offsetX&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;微調整用の横方向位置オフセット。プラスの値を指定すると画面右方向にシフトする。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;offsetY&lt;/td&gt;
        &lt;td&gt;0&lt;/td&gt;
        &lt;td&gt;微調整用の縦方向位置オフセット。プラスの値を指定すると画面上方向にシフトする。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;tipSize&lt;/td&gt;
        &lt;td&gt;12&lt;/td&gt;
        &lt;td&gt;吹き出し端に付く正三角形のサイズ（高さ）をピクセル単位の整数値で指定する。0だと三角形はつかない。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;minLifetime&lt;/td&gt;
        &lt;td&gt;200&lt;/td&gt;
        &lt;td&gt;マウスポインタが対象の要素から離れて（&lt;code&gt;mouseleave&lt;/code&gt;）から、この時間（ミリ秒）の間は吹き出しを表示し続ける。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;showDuration&lt;/td&gt;
        &lt;td&gt;100&lt;/td&gt;
        &lt;td&gt;吹き出しを表示するときのアニメーション時間。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;showAnimation&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;吹き出しを表示するときのアニメーション関数。この関数には&lt;code&gt;showDuration&lt;/code&gt;が引数として与えられ&lt;code&gt;this&lt;/code&gt;はその吹き出しのjQueryオブジェクトとなる。&lt;code&gt;null&lt;/code&gt;を指定した場合は&lt;code&gt;$().show()&lt;/code&gt;を使用する。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;hideDuration&lt;/td&gt;
        &lt;td&gt;80&lt;/td&gt;
        &lt;td&gt;吹き出しを非表示にするときのアニメーション時間。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;hideAnimation&lt;/td&gt;
        &lt;td&gt;function (d) { this.fadeOut(d); }&lt;/td&gt;
        &lt;td&gt;吹き出しを非表示にするときのアニメーション関数。この関数には&lt;code&gt;hideDuration&lt;/code&gt;が引数として与えられ、&lt;code&gt;this&lt;/code&gt;はその吹き出しのjQueryオブジェクトとなる。&lt;code&gt;null&lt;/code&gt;を指定した場合は&lt;code&gt;$().hide()&lt;/code&gt;を使用する。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;showComplete&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;吹き出しの表示（アニメーション）完了時に実行される関数。&lt;code&gt;this&lt;/code&gt;はその吹き出しのjQueryオブジェクトとなる。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td colspan=&quot;2&quot;&gt;hideComplete&lt;/td&gt;
        &lt;td&gt;null&lt;/td&gt;
        &lt;td&gt;吹き出しの非表示（アニメーション）完了時に実行される関数。&lt;code&gt;this&lt;/code&gt;はその吹き出しのjQueryオブジェクトとなる。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td rowspan=&quot;11&quot; style=&quot;padding-left: 20px; padding-right: 20px; border-bottom: none; border-right: 1px solid #dddddd; background-color: #fafafa;&quot;&gt;css&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;minWidth&lt;/td&gt;
        &lt;td&gt;&quot;20px&quot;&lt;/td&gt;
        &lt;td rowspan=&quot;10&quot;&gt;吹き出しのスタイル。jQueryのcssと同様で、キャメルケースのオブジェクトを用いてスタイルを指定する。この表に書かれているのはデフォルト値が設定されているもののみで、これら以外も自由に指定可能。&lt;code&gt;css&lt;/code&gt;に&lt;code&gt;null&lt;/code&gt;を設定すると、本プラグインデフォルトで指定されているこれらのスタイルが全てキャンセルされる。&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;padding&lt;/td&gt;
        &lt;td&gt;&quot;5px&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;borderRadius&lt;/td&gt;
        &lt;td&gt;&quot;6px&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;border&lt;/td&gt;
        &lt;td&gt;&quot;solid 1px #777&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;boxShadow&lt;/td&gt;
        &lt;td&gt;&quot;4px 4px 4px #555&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;color&lt;/td&gt;
        &lt;td&gt;&quot;#666&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;backgroundColor&lt;/td&gt;
        &lt;td&gt;&quot;#efefef&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;opacity&lt;/td&gt;
        &lt;td&gt;&quot;0.85&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;zIndex&lt;/td&gt;
        &lt;td&gt;&quot;32767&quot;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;textAlign&lt;/td&gt;
        &lt;td&gt;&quot;left&quot;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;h3 id=&quot;以下で紹介されています&quot;&gt;以下で紹介されています&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;//www.webcreatorbox.com/tech/nav-menu/&quot;&gt;もうユーザーを迷わせない！ナビゲーションメニュー設置のコツ ｜ Webクリエイターボックス&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//jquery-plugins.net/balloon-jquery-plugin-for-balloon-tooltips&quot;&gt;Balloon - jQuery Plugin for Balloon Tooltips ｜ jQuery Plugins&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//programming-10000.hatenadiary.jp/entry/20130926/1380175857&quot;&gt;jQueryプラグインballoon.jsを使って吹き出し表示したり非表示にする方法。入力値をチェックして、注意書きを吹き出しで表示するサンプルを作ってみる。 - 感謝のプログラミング 10000時間&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//www.jqueryscript.net/tooltip/Easy-User-friendly-Tooltip-Plugin-For-jQuery-balloon-js.html&quot;&gt;Easy &amp;amp; User-friendly Tooltip Plugin For jQuery - balloon.js ｜ Free jQuery Plugins&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//thewebthought.blogspot.com/2011/06/jquery-tips-with-jqueryballoonjs.html&quot;&gt;jQuery: tips with jquery.balloon.js ｜ the web thought&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//ginpro.winofsql.jp/article/386285907.html&quot;&gt;jQuery プラグイン jquery.balloon.js の外部からのコントロール : GINPRO / SQLの窓と銀プログラマ&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//pb-times.jp/P_51f721519314d&quot;&gt;jQueryで簡単に吹き出しをポップアップ ｜ PbTimes 情報誌&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;
</description>
      <link>http://urin.github.io/posts/2014/jquery-balloon-js</link>
      <guid>http://urin.github.io//posts/2014/jquery-balloon-js</guid>
      <pubDate>2014-02-12T00:00:00+09:00</pubDate>
    </item>

    <item>
      <title>要素の高さを揃える超軽量なjQueryプラグインjquery.tile.js</title>
      <description>&lt;p&gt;ブロック要素の高さを揃える軽量な&lt;code class=&quot;highlighter-rouge&quot;&gt;jQuery&lt;/code&gt;プラグイン&lt;code class=&quot;highlighter-rouge&quot;&gt;jquery.tile.js&lt;/code&gt;。このプラグインを使用するとブロック要素を簡単にタイル状に並べることができる。
このプラグインには余分な機能が一切無いため &lt;strong&gt;使い方がシンプルでプラグインは非常に軽量&lt;/strong&gt; になっている。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;JavaScript&lt;/code&gt;を使用しないで要素の高さ揃える場合は&lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;table&lt;/code&gt;要素を使う、&lt;code class=&quot;highlighter-rouge&quot;&gt;CSS&lt;/code&gt;の&lt;code class=&quot;highlighter-rouge&quot;&gt;display: table&lt;/code&gt;を使用する、&lt;code class=&quot;highlighter-rouge&quot;&gt;float: left&lt;/code&gt;で横に並べて&lt;code class=&quot;highlighter-rouge&quot;&gt;margin-bottom&lt;/code&gt;を大きくするなどの方法が考えられるが、デザイン面で融通が効きにくく初心者にとっては少し敷居が高い。
要素を横に並べるには&lt;code class=&quot;highlighter-rouge&quot;&gt;float: left&lt;/code&gt;や&lt;code class=&quot;highlighter-rouge&quot;&gt;display: inline-block&lt;/code&gt;などを用いるのが最も簡単だが、この場合&lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt;と&lt;code class=&quot;highlighter-rouge&quot;&gt;CSS&lt;/code&gt;だけで要素の高さを自動的に揃えるのは（特にそれが複数行あったり各要素の高さが内容物に応じて可変だった場合）簡単ではない。
CSS3の使用が認められる場合には&lt;code class=&quot;highlighter-rouge&quot;&gt;flex&lt;/code&gt;レイアウトを用いるのが最もスマートだが現時点でCSS3の使用が全面的に認められるケースはそう多くはない。&lt;/p&gt;

&lt;p&gt;このプラグインはブログ形式のWebサイトでサイドバーと本体の高さを揃えたい場合などにも使用することができる。&lt;/p&gt;

&lt;h3 id=&quot;デモダウンロード&quot;&gt;デモ・ダウンロード&lt;/h3&gt;

&lt;p&gt;以下のデモページ（画像をクリック）ではクリックすると実行結果が表示されるので実行前と実行後の見た目の変化がわかる。ダウンロードリンクはデモページの最下部にある。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/jquery.tile.js&quot; title=&quot;デモページヘ&quot; class=&quot;block&quot;&gt;&lt;img src=&quot;/img/posts/2013/2013-08-11-jquery-tile-js-demos-thumbnail.png&quot; alt=&quot;jquery.tile.js&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;使用方法１全ての要素の高さを揃える&quot;&gt;使用方法１―全ての要素の高さを揃える&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;指定した複数の要素の高さをその中の最大の高さに揃える。
    &lt;ul&gt;
      &lt;li&gt;各要素の幅が同じであれば各要素のサイズ（高さ・幅）は全て同じになりタイル状に要素が並ぶ。&lt;/li&gt;
      &lt;li&gt;各要素に対して&lt;code class=&quot;highlighter-rouge&quot;&gt;height&lt;/code&gt;を指定する必要はない。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;javascriptサンプル&quot;&gt;JavaScriptサンプル&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tile-sample1&lt;/code&gt;という&lt;code class=&quot;highlighter-rouge&quot;&gt;class&lt;/code&gt;属性を持つ要素の高さをその中の最大の高さで揃えるには以下のように記述する。&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.tile-sample1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;実行したときのイメージ&quot;&gt;実行したときのイメージ&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/2013/2013-08-11-tile1-before.png&quot; alt=&quot;jquery.tile.js&quot; /&gt;
&lt;i class=&quot;icon-arrow-down&quot; style=&quot;display: block; margin: 10px auto; font-size: 40px&quot;&gt;&lt;/i&gt;
&lt;img src=&quot;/img/posts/2013/2013-08-11-tile1-after.png&quot; alt=&quot;jquery.tile.js&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;使用方法２同じ行にある要素の高さを揃える&quot;&gt;使用方法２―同じ行にある要素の高さを揃える&lt;/h3&gt;
&lt;p&gt;１行に含まれる要素の数（列数）を指定して同じ行に並ぶ要素の中で最大の高さに揃える。&lt;/p&gt;

&lt;h4 id=&quot;javascriptサンプル-1&quot;&gt;JavaScriptサンプル&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tile-sample2&lt;/code&gt;という&lt;code class=&quot;highlighter-rouge&quot;&gt;class&lt;/code&gt;属性を持つ要素が横に４つ並んでいるとき横に並んだ要素の高さを各行毎に揃えるにはその列数（＝４）を引数に指定する。&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.tile-sample2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;実行したときのイメージ-1&quot;&gt;実行したときのイメージ&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/2013/2013-08-11-tile2-before.png&quot; alt=&quot;jquery.tile.js&quot; /&gt;
&lt;i class=&quot;icon-arrow-down&quot; style=&quot;display: block; margin: 10px auto; font-size: 40px&quot;&gt;&lt;/i&gt;
&lt;img src=&quot;/img/posts/2013/2013-08-11-tile2-after.png&quot; alt=&quot;jquery.tile.js&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;以下で紹介されています&quot;&gt;以下で紹介されています&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;//furoshiki.hatenadiary.jp/entry/2014/01/20/044348&quot;&gt;日本人が開発したJavaScriptライブラリ、エンジニア別国内利用率ランキング - ふろしき.js&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//liginc.co.jp/web/js/jquery/22340#contents&quot;&gt;見た目を綺麗に整列する！ブロックレベル要素の高さを揃えるJS3選 - 株式会社LIG&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//qiita.com/ituki_b/items/ddbf2dc96e6e746a8c1f&quot;&gt;jQuery - 横並びしてる要素の高さをそろえ、要素が削除されたあともまた高さをそろえる - Qiita&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//www.ilovex.co.jp/blog/system/html/js2.html#main-content&quot;&gt;リストの高さを揃える便利なJS（2） - システム開発ブログ(システム開発のアイロベックス)&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//1bit.mobi/20111025170154.html&quot;&gt;ブロック要素の天地を揃えるのはjquery.tile.jsが一番便利でした - 1bit::memo&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;//www.jqueryrain.com/2014/02/jquery-tile-js-lightest-jquery-plugin-tile-boxes/&quot;&gt;jQuery tile.js : Lightest jQuery plugin to Tile boxes&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;
</description>
      <link>http://urin.github.io/posts/2013/release-jquery-tile-js</link>
      <guid>http://urin.github.io//posts/2013/release-jquery-tile-js</guid>
      <pubDate>2013-08-11T00:00:00+09:00</pubDate>
    </item>

    <item>
      <title>シンプルで応用の効くmakefileとその解説</title>
      <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;は一度作るとそれ以降編集する機会が少なくなるので意外と真面目に考える人は少なく、ネット上でもまとまった情報は多くない。&lt;/p&gt;

&lt;p&gt;Linux系OS上（正確に言うとGNU MakeとGCC）で複数の&lt;code class=&quot;highlighter-rouge&quot;&gt;C/C++&lt;/code&gt;ソースファイルから１つの実行ファイルを作成(&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;)するための汎用的な&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;テンプレートを作った。名前はまだない。適宜ディレクトリ構成や設計などに従って&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;をカスタマイズする必要があると思うがそのベースにする。&lt;/p&gt;

&lt;h2 id=&quot;このmakefileのいいところ&quot;&gt;このmakefileのいいところ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;コンパイル対象となるソースファイルをワイルドカードで指定できる。&lt;/li&gt;
  &lt;li&gt;ヘッダファイル、ライブラリ、オブジェクトファイルなどコンパイル、リンクに関連するどのファイルが外部で変更されていてもきちんと &lt;strong&gt;差分&lt;/strong&gt; コンパイルされる。&lt;/li&gt;
  &lt;li&gt;makefile自体に説明書（この記事）がある。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;makefile&quot;&gt;makefile&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;//gist.github.com/urin/5971408#file-makefile&quot;&gt;Gistはこちら&lt;/a&gt;。&lt;/p&gt;

&lt;div class=&quot;language-makefile highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;COMPILER&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g++
&lt;span class=&quot;nv&quot;&gt;CFLAGS&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; -g -MMD -MP -Wall -Wextra -Winit-self -Wno-missing-field-initializers
&lt;span class=&quot;err&quot;&gt;ifeq&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$(shell getconf LONG_BIT)&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;64&quot;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;LDFLAGS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;else&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;LDFLAGS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;endif&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;LIBS&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;INCLUDE&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; -I./include
&lt;span class=&quot;nv&quot;&gt;TARGET&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ./bin/&lt;span class=&quot;nf&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;shell&lt;/span&gt; basename &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;readlink -f .&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;SRCDIR&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ./source
&lt;span class=&quot;err&quot;&gt;ifeq&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$(strip $(SRCDIR))&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;SRCDIR&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; .
&lt;span class=&quot;err&quot;&gt;endif&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;SOURCES&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;wildcard &lt;span class=&quot;nv&quot;&gt;$(SRCDIR)&lt;/span&gt;/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.cpp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;OBJDIR&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ./obj
&lt;span class=&quot;err&quot;&gt;ifeq&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$(strip $(OBJDIR))&quot;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;OBJDIR&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; .
&lt;span class=&quot;err&quot;&gt;endif&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;OBJECTS&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;addprefix &lt;span class=&quot;nv&quot;&gt;$(OBJDIR)&lt;/span&gt;/, &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;notdir &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;SOURCES:.cpp&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;.o&lt;span class=&quot;o&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DEPENDS&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;OBJECTS:.o&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;.d&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nl&quot;&gt;$(TARGET)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;$(OBJECTS) $(LIBS)&lt;/span&gt;
	&lt;span class=&quot;nv&quot;&gt;$(COMPILER)&lt;/span&gt; -o &lt;span class=&quot;nv&quot;&gt;$@&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$^&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$(LDFLAGS)&lt;/span&gt;

&lt;span class=&quot;nl&quot;&gt;$(OBJDIR)/%.o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;$(SRCDIR)/%.cpp&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;mkdir -p &lt;span class=&quot;nv&quot;&gt;$(OBJDIR)&lt;/span&gt;
	&lt;span class=&quot;nv&quot;&gt;$(COMPILER)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$(CFLAGS)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$(INCLUDE)&lt;/span&gt; -o &lt;span class=&quot;nv&quot;&gt;$@&lt;/span&gt; -c &lt;span class=&quot;nv&quot;&gt;$&amp;lt;&lt;/span&gt;

&lt;span class=&quot;nl&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;clean $(TARGET)&lt;/span&gt;

&lt;span class=&quot;nl&quot;&gt;clean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;rm -f &lt;span class=&quot;nv&quot;&gt;$(OBJECTS)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$(DEPENDS)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$(TARGET)&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;-include&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$(DEPENDS)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;使用方法&quot;&gt;使用方法&lt;/h2&gt;

&lt;h4 id=&quot;make&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;&lt;/h4&gt;

&lt;p&gt;基本的には&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;するだけで依存関係を考慮して差分コンパイルされる。
ソースファイルはもちろん、ヘッダファイル、ライブラリなどが更新されている場合も自動的に検出して差分コンパイルされる。&lt;/p&gt;

&lt;h4 id=&quot;make-all&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;make all&lt;/code&gt;&lt;/h4&gt;

&lt;p&gt;強制的に全ソースをコンパイルしたい場合は&lt;code class=&quot;highlighter-rouge&quot;&gt;make all&lt;/code&gt;する。
このコマンドは全ての中間ファイル（オブジェクトファイル、依存関係ファイル）と実行ファイルを削除してから全ソースをコンパイルする。&lt;/p&gt;

&lt;h4 id=&quot;make-clean&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;make clean&lt;/code&gt;&lt;/h4&gt;

&lt;p&gt;全ての中間ファイル（オブジェクトファイル、依存関係ファイル）と実行ファイルを削除する。&lt;/p&gt;

&lt;h2 id=&quot;初期設定状態のmakefile&quot;&gt;初期設定状態のmakefile&lt;/h2&gt;

&lt;p&gt;下記のようなディレクトリツリーで初期設定の&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;を用いて&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;を実行した場合、以下の矢印(&amp;lt;-)ようにファイルが生成される。
同一のディレクトリに存在する全てのcppファイルがコンパイル（及びリンク）対象となる。&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;example
|-- makefile
|-- bin
|   `-- example   &amp;lt;- (TARGET) 実行ファイル
|-- include
|   `-- example.h
|-- obj           &amp;lt;- (OBJDIR) 中間ファイル生成先ディレクトリ
|   |-- example.d &amp;lt;- (DEPENDS) 依存関係ファイル
|   `-- example.o &amp;lt;- (OBJECTS) オブジェクトファイル
`-- source
    `-- example.cpp
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;解説&quot;&gt;解説&lt;/h2&gt;

&lt;h3 id=&quot;コンパイラの指定-compiler&quot;&gt;コンパイラの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;COMPILER&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;コンパイラは&lt;code class=&quot;highlighter-rouge&quot;&gt;COMPILER&lt;/code&gt;の値を用いる。初期値は&lt;code class=&quot;highlighter-rouge&quot;&gt;g++&lt;/code&gt;。C言語のみの場合は&lt;code class=&quot;highlighter-rouge&quot;&gt;gcc&lt;/code&gt;に変更しても良いが基本的には&lt;code class=&quot;highlighter-rouge&quot;&gt;g++&lt;/code&gt;で問題ない。&lt;/p&gt;

&lt;h3 id=&quot;コンパイルオプション-cflags&quot;&gt;コンパイルオプション (&lt;code class=&quot;highlighter-rouge&quot;&gt;CFLAGS&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;コンパイルオプションとして&lt;code class=&quot;highlighter-rouge&quot;&gt;CFLAGS&lt;/code&gt;の値を用いる。&lt;code class=&quot;highlighter-rouge&quot;&gt;-D&lt;/code&gt;オプションによる&lt;code class=&quot;highlighter-rouge&quot;&gt;#define&lt;/code&gt;の追加、最適化オプション、コードカバレッジ用の&lt;code class=&quot;highlighter-rouge&quot;&gt;-coverage&lt;/code&gt;などを用いる場合はここに記述する。&lt;/p&gt;

&lt;p&gt;以下は初期値の解説。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-Wall -Wextra -Winit-self -Wno-missing-field-initializers&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-Wall&lt;/code&gt; : コンパイルワーニングのレベルを最大にする。&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-Wextra&lt;/code&gt; : 歴史的理由により&lt;code class=&quot;highlighter-rouge&quot;&gt;-Wall&lt;/code&gt;を使用でも抑制される警告を抑制しない。つまり可能な限り全ての警告を出す。&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-W*&lt;/code&gt; （それ以外） : 詳しくは&lt;a href=&quot;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html&quot;&gt;Warning Options - Using the GNU Compiler Collection (GCC)&lt;/a&gt;を参照されたし。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-g&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;デバッグオプション。&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gdb&lt;/code&gt;でのデバッグを可能にする。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-MMD -MP&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;ソースファイルの依存関係を中間ファイルに出力する。&lt;/li&gt;
      &lt;li&gt;依存関係ファイルはソースファイル名の拡張子を&lt;code class=&quot;highlighter-rouge&quot;&gt;.d&lt;/code&gt;に変更したものとなり、&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJDIR&lt;/code&gt;で指定したディレクトリに生成される。&lt;/li&gt;
      &lt;li&gt;この依存関係ファイルは&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;最後の&lt;code class=&quot;highlighter-rouge&quot;&gt;include&lt;/code&gt;文にてインクルードされることで依存しているヘッダファイル等が変更された場合に自動的に再コンパイルされるようになる。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;リンクオプション-ldflags&quot;&gt;リンクオプション (&lt;code class=&quot;highlighter-rouge&quot;&gt;LDFLAGS&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;リンクオプションとして&lt;code class=&quot;highlighter-rouge&quot;&gt;LDFLAGS&lt;/code&gt;の値を用いる。初期値は空。
動的ライブラリをリンクする&lt;code class=&quot;highlighter-rouge&quot;&gt;-l&lt;/code&gt;オプションを用いる場合はここに記述する。
パスの通っていない動的ライブラリをリンクするならここにそのファイル名(&lt;code class=&quot;highlighter-rouge&quot;&gt;*.so&lt;/code&gt;みたいな)を書いても良い。&lt;/p&gt;

&lt;h3 id=&quot;ライブラリの指定-libs&quot;&gt;ライブラリの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;LIBS&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;静的リンクするライブラリとして&lt;code class=&quot;highlighter-rouge&quot;&gt;LIBS&lt;/code&gt;の値を用いる。初期値は空。
静的ライブラリ（&lt;code class=&quot;highlighter-rouge&quot;&gt;*.a&lt;/code&gt;）を用いる場合、空白区切りでファイル名を記述する。
ここで指定したライブラリが更新された場合、&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;は再コンパイルが必要だと認識する。&lt;/p&gt;

&lt;h3 id=&quot;インクルードパスの指定-include&quot;&gt;インクルードパスの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;INCLUDE&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;インクルードパスとして&lt;code class=&quot;highlighter-rouge&quot;&gt;INCLUDE&lt;/code&gt;の値を用いる。初期値は&lt;code class=&quot;highlighter-rouge&quot;&gt;-I./include&lt;/code&gt;。
ソースファイル中の&lt;code class=&quot;highlighter-rouge&quot;&gt;#include&lt;/code&gt;ファイル検索パスに加えるパスを&lt;code class=&quot;highlighter-rouge&quot;&gt;-I&lt;/code&gt;オプションにて指定する。&lt;code class=&quot;highlighter-rouge&quot;&gt;-I&lt;/code&gt;オプションとディレクトリ名の間に空白を書くことはできない。
複数ディレクトリを指定したい場合は&lt;code class=&quot;highlighter-rouge&quot;&gt;-I&lt;/code&gt;オプションを空白区切りで複数指定する。&lt;/p&gt;

&lt;h3 id=&quot;実行ファイルの指定-target&quot;&gt;実行ファイルの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;TARGET&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;実行ファイル名として&lt;code class=&quot;highlighter-rouge&quot;&gt;TARGET&lt;/code&gt;の値を用いる。
以下は初期値 &lt;code&gt; ./bin/$(shell basename \`readlink -f .\`) &lt;/code&gt;の解説。
実行ファイルの生成先のディレクトリは&lt;code class=&quot;highlighter-rouge&quot;&gt;./bin&lt;/code&gt;。
生成される実行ファイル名は &lt;code&gt; $(shell basename \`readlink -f .\`) &lt;/code&gt;である。
これは&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;の存在するディレクトリの名前。&lt;/p&gt;

&lt;h3 id=&quot;中間ファイル生成先ディレクトリの指定-objdir&quot;&gt;中間ファイル生成先ディレクトリの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJDIR&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;中間ファイル生成先ディレクトリとして&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJDIR&lt;/code&gt;の値を用いる。初期値は&lt;code class=&quot;highlighter-rouge&quot;&gt;./obj&lt;/code&gt;。
このフォルダにオブジェクトファイル(&lt;code class=&quot;highlighter-rouge&quot;&gt;*.o&lt;/code&gt;)や依存関係ファイル(&lt;code class=&quot;highlighter-rouge&quot;&gt;*.d&lt;/code&gt;)が生成される。&lt;/p&gt;

&lt;h3 id=&quot;ソースファイルの指定-sources&quot;&gt;ソースファイルの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;SOURCES&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;コンパイル対象となるソースファイルとして&lt;code class=&quot;highlighter-rouge&quot;&gt;SOURCES&lt;/code&gt;の値を用いる。初期値は&lt;code class=&quot;highlighter-rouge&quot;&gt;$(wildcard $(SRCDIR)/*.cpp)&lt;/code&gt;。
&lt;code class=&quot;highlighter-rouge&quot;&gt;SRCDIR&lt;/code&gt;に存在する拡張子&lt;code class=&quot;highlighter-rouge&quot;&gt;cpp&lt;/code&gt;のファイル全てをコンパイル対象とすることを意味する。別の拡張子(&lt;code class=&quot;highlighter-rouge&quot;&gt;.c&lt;/code&gt;など)に変更したい場合は、&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;内の&lt;code class=&quot;highlighter-rouge&quot;&gt;cpp&lt;/code&gt;を全て変更する。&lt;/p&gt;

&lt;h3 id=&quot;オブジェクトファイルの指定-objects&quot;&gt;オブジェクトファイルの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJECTS&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;オブジェクトファイルとして&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJECTS&lt;/code&gt;の値を用いる。
以下は初期値 &lt;code class=&quot;highlighter-rouge&quot;&gt;$(addprefix $(OBJDIR)/, $(notdir $(SOURCES:.cpp=.o)))&lt;/code&gt;の解説。
オブジェクトファイルの生成先ディレクトリは&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJDIR&lt;/code&gt;。
オブジェクトファイル名はソースファイル(&lt;code class=&quot;highlighter-rouge&quot;&gt;SOURCES&lt;/code&gt;)の拡張子を&lt;code class=&quot;highlighter-rouge&quot;&gt;.o&lt;/code&gt;に置換したもの。
&lt;code class=&quot;highlighter-rouge&quot;&gt;OBJDIR&lt;/code&gt;が空の場合は&lt;code class=&quot;highlighter-rouge&quot;&gt;makefile&lt;/code&gt;と同一のディレクトリに生成される。&lt;/p&gt;

&lt;h3 id=&quot;依存関係ファイルの指定-depends&quot;&gt;依存関係ファイルの指定 (&lt;code class=&quot;highlighter-rouge&quot;&gt;DEPENDS&lt;/code&gt;)&lt;/h3&gt;

&lt;p&gt;依存関係ファイルとして&lt;code class=&quot;highlighter-rouge&quot;&gt;DEPENDS&lt;/code&gt;の値を用いる。
初期値&lt;code class=&quot;highlighter-rouge&quot;&gt;$(OBJECTS:.o=.d)&lt;/code&gt;はオブジェクトファイルの拡張子を&lt;code class=&quot;highlighter-rouge&quot;&gt;.d&lt;/code&gt;に置換したもの。&lt;/p&gt;

&lt;p&gt;そんじゃーね。に花束を。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2013/simple-makefile-for-clang</link>
      <guid>http://urin.github.io//posts/2013/simple-makefile-for-clang</guid>
      <pubDate>2013-08-10T00:00:00+09:00</pubDate>
    </item>

    <item>
      <title>Jekyll 1.1系をWindowsに導入する</title>
      <description>&lt;p&gt;現時点で最新版の&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-1.1.2&lt;/code&gt;をインストールしてみる。Rubyは&lt;code class=&quot;highlighter-rouge&quot;&gt;1.9.3&lt;/code&gt;でやったが&lt;code class=&quot;highlighter-rouge&quot;&gt;2.0.0&lt;/code&gt;でも多分問題ない。&lt;/p&gt;

&lt;h3 id=&quot;pythonをインストール&quot;&gt;Pythonをインストール&lt;/h3&gt;

&lt;p&gt;シンタックスハイライト用の&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments.rb&lt;/code&gt;が使用する。
&lt;code class=&quot;highlighter-rouge&quot;&gt;pygments.rb&lt;/code&gt;によると&lt;code class=&quot;highlighter-rouge&quot;&gt;python&lt;/code&gt;のバージョン&lt;code class=&quot;highlighter-rouge&quot;&gt;2.6&lt;/code&gt;以降であれば何でもいいと書いてあるが、python&lt;code class=&quot;highlighter-rouge&quot;&gt;3&lt;/code&gt;系では動作しない。
よって&lt;code class=&quot;highlighter-rouge&quot;&gt;2.7&lt;/code&gt;をインストールする。&lt;/p&gt;

&lt;p&gt;インストールが終わったら&lt;code class=&quot;highlighter-rouge&quot;&gt;python.exe&lt;/code&gt;のあるディレクトリを&lt;code class=&quot;highlighter-rouge&quot;&gt;PATH&lt;/code&gt;に追加する。&lt;/p&gt;

&lt;h3 id=&quot;easy_installdistributeをインストール&quot;&gt;easy_install(distribute)をインストール&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;//python-distribute.org/distribute_setup.py&quot;&gt;distribute_setup.py&lt;/a&gt;
をダウンロードしてきて&lt;code class=&quot;highlighter-rouge&quot;&gt;python&lt;/code&gt;で実行するだけ。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python distribute_setup.py
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;pygmentsをインストール&quot;&gt;Pygmentsをインストール&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;python&lt;/code&gt;のあるディレクトリに&lt;code class=&quot;highlighter-rouge&quot;&gt;Scripts&lt;/code&gt;フォルダができていてその中に&lt;code class=&quot;highlighter-rouge&quot;&gt;easy_install.exe&lt;/code&gt;がある。
ここで&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;Scripts
easy_install Pygments
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;とするだけ。&lt;/p&gt;

&lt;h3 id=&quot;pygmentsrbのダウングレード&quot;&gt;pygments.rbのダウングレード&lt;/h3&gt;

&lt;p&gt;シンタックスハイライトを使用しようとすると&lt;code class=&quot;highlighter-rouge&quot;&gt;posix-spawn&lt;/code&gt;やら&lt;code class=&quot;highlighter-rouge&quot;&gt;liquid&lt;/code&gt;やらがエラーを出す。この問題は&lt;a href=&quot;//stackoverflow.com/questions/17364028/jekyll-on-windows-pygments-not-working&quot;&gt;Stack Over Flow&lt;/a&gt;にも挙げられていて対策もあった。&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem uninstall -a pygments.rb
gem install pygments.rb --version &lt;span class=&quot;s2&quot;&gt;&quot;=0.5.0&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;とバージョンを&lt;code class=&quot;highlighter-rouge&quot;&gt;0.5.0&lt;/code&gt;に下げる。&lt;/p&gt;

&lt;h3 id=&quot;エンコーディングの固定化&quot;&gt;エンコーディングの固定化&lt;/h3&gt;

&lt;p&gt;日本語を使うと&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt;でエラーになるのでファイル読み込み時のエンコーディングを&lt;code class=&quot;highlighter-rouge&quot;&gt;UTF-8&lt;/code&gt;固定にする。デフォルトはシステム標準が採用される（つまりWindows日本語版なら&lt;code class=&quot;highlighter-rouge&quot;&gt;Windows-31J&lt;/code&gt;）が、実際のファイルは全て&lt;code class=&quot;highlighter-rouge&quot;&gt;UTF-8&lt;/code&gt;にしたいので。LinuxやMacなんかではシステムのエンコーディングが&lt;code class=&quot;highlighter-rouge&quot;&gt;UTF-8&lt;/code&gt;だから普通は問題ない。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll&lt;/code&gt;本体に手をつけるハックもネット上で見かけたがよろしくない。
デフォルトエンコーディングを変更するだけの&lt;code class=&quot;highlighter-rouge&quot;&gt;.rb&lt;/code&gt;ファイルを&lt;code class=&quot;highlighter-rouge&quot;&gt;_plugins&lt;/code&gt;フォルダに置いて&lt;code class=&quot;highlighter-rouge&quot;&gt;build&lt;/code&gt;すれば&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll&lt;/code&gt;が&lt;code class=&quot;highlighter-rouge&quot;&gt;UTF-8&lt;/code&gt;固定で動くようになる。&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Encoding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;default_external&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;UTF_8&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;以上でWindows特有の環境設定関係はほぼ完了。これ以外の設定なんかは&lt;a href=&quot;//jekyllrb.com/docs/home/&quot;&gt;Jekyllの公式ドキュメント&lt;/a&gt;をひと通り見ながらやれば大体OK。&lt;/p&gt;

&lt;p&gt;さあ、快適なJekyllライフをはじめよう。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2013/Setup-jekyll-1.1-to-windows</link>
      <guid>http://urin.github.io//posts/2013/Setup-jekyll-1.1-to-windows</guid>
      <pubDate>2013-08-04T00:00:00+09:00</pubDate>
    </item>

    <item>
      <title>ブログをリニューアル</title>
      <description>&lt;p&gt;ブログを&lt;code class=&quot;highlighter-rouge&quot;&gt;GitHub Pages&lt;/code&gt;に移転して完全にリニューアルした。CMSは&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;でホストは&lt;code class=&quot;highlighter-rouge&quot;&gt;GitHub&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;//jekyllrb.com/&quot;&gt;Jekyll • Simple, blog-aware, static sites&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;去年あたりから忍者ブログのサービス内容がどんどん劣化していってついに我慢が限界に達した。&lt;/p&gt;

&lt;p&gt;何か新しいことが始まるとき、その多くは「負（怒りや悲しみ）」のモチベーションからスタートすると聞いたことがある。まさに、それだ。&lt;/p&gt;

&lt;h2 id=&quot;jekyllを選択したわけ&quot;&gt;Jekyllを選択したわけ&lt;/h2&gt;

&lt;p&gt;ブログサービスを選ぶ判断基準は以下。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;無料で容量制限が厳しくない&lt;/li&gt;
  &lt;li&gt;将来性がある（１０年間くらいはサービスが継続すると思われる）&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt;や&lt;code class=&quot;highlighter-rouge&quot;&gt;CSS&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;Javascript&lt;/code&gt;含めてほぼ完全にカスタマイズできる&lt;/li&gt;
  &lt;li&gt;余計な広告が入らない&lt;/li&gt;
  &lt;li&gt;記事にも&lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt;が使えてコードのシンタックスハイライトなどもできる&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;無料のブログサービスを調べる&quot;&gt;無料のブログサービスを調べる&lt;/h3&gt;

&lt;p&gt;日本向けのブログサービスを見てみたが、どれも数年前と大きく状況が変わっていないようだった。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;//www.ninja.co.jp/blog/&quot;&gt;忍者ブログ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//www.blogger.com/&quot;&gt;Blogger&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//hatenablog.com/&quot;&gt;はてなブログ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//d.hatena.ne.jp/&quot;&gt;はてなダイアリー&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//ameblo.jp/&quot;&gt;Ameba (アメーバ)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//blog.fc2.com/&quot;&gt;FC2ブログ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//blog.livedoor.com/&quot;&gt;ライブドアブログ(livedoor Blog)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;・・・&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;正直どれもパッとしない。忍者ブログはデザインのカスタマイズ性が高いが記事に&lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt;を使うのが難しくなったのが致命的だった。
これら伝統的なブログサービス以外の選択肢としては&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;//www.strikingly.com/&quot;&gt;Strikingly - わずか数分でシンプルで美しいモバイルサイトを作成&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//wordpress.com/&quot;&gt;WordPress.com - Get a Free Blog Here&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//wordpress.org/&quot;&gt;WordPress › Blog Tool, Publishing Platform, and CMS&lt;/a&gt;を何らかのサーバ上で運営&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//octopress.org/&quot;&gt;Octopress&lt;/a&gt;をGitHubでホスティング&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//www.edicy.com/&quot;&gt;Edicy — Create a Website — Easy to use Website Builder&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//ja.wix.com/&quot;&gt;WIX&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//www.weebly.com/&quot;&gt;Weebly&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;//jp.jimdo.com/&quot;&gt;Jimdo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;というのもあったが、Googleアナリティクスが使えない、Googleアドセンスが使えない、&lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;CSS&lt;/code&gt;をカスタマイズ出来ないなど色々と不都合があった。
で、この中では&lt;code class=&quot;highlighter-rouge&quot;&gt;Octopress&lt;/code&gt;が&lt;code class=&quot;highlighter-rouge&quot;&gt;Compass&lt;/code&gt;が使えたり色々といいように見えた。しかし・・・&lt;/p&gt;

&lt;h3 id=&quot;結論&quot;&gt;結論&lt;/h3&gt;

&lt;p&gt;完全にカスタマイズできて&lt;code class=&quot;highlighter-rouge&quot;&gt;Octopress&lt;/code&gt;のベースにもなっている&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;が今年リリースされたバージョン&lt;code class=&quot;highlighter-rouge&quot;&gt;0.12.0&lt;/code&gt;あたりから
急激に充実してもはや&lt;code class=&quot;highlighter-rouge&quot;&gt;Octopress&lt;/code&gt;なんていらないんじゃね？という勢いを感じたので&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;を&lt;code class=&quot;highlighter-rouge&quot;&gt;GitHub Pages&lt;/code&gt;にホスティングしてもらう形とした。&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;のスターターキットとして&lt;a href=&quot;//jekyllbootstrap.com/&quot;&gt;Jekyll-Bootstrap&lt;/a&gt;という&lt;code class=&quot;highlighter-rouge&quot;&gt;Twitter Bootstrap 2&lt;/code&gt;を適用したものが良さげではあったが
開発が停滞気味で&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;本体と&lt;code class=&quot;highlighter-rouge&quot;&gt;Bootstrap&lt;/code&gt;の更新に追いついて行けなさそうな予感がしたので結局、こうした。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;常に最新の&lt;code class=&quot;highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;が使えるよう余計なプラグインには頼らないようにする。最悪プラグインを自作しておけば動かなくなった時もすぐに直せる。&lt;/li&gt;
  &lt;li&gt;レスポンシブ対応のグリッドシステムを持っていて今後も息が長い&lt;code class=&quot;highlighter-rouge&quot;&gt;CSS&lt;/code&gt;フレームワークを使いたい。ということで&lt;a href=&quot;//getbootstrap.com/&quot;&gt;Bootstrap 3 RC1&lt;/a&gt;を導入。&lt;/li&gt;
  &lt;li&gt;アイコンは&lt;code class=&quot;highlighter-rouge&quot;&gt;Web font&lt;/code&gt;がいいので&lt;code class=&quot;highlighter-rouge&quot;&gt;Bootstrap&lt;/code&gt;との相性も良い&lt;a href=&quot;//fortawesome.github.io/Font-Awesome/&quot;&gt;Font Awesome, the iconic font designed for Bootstrap&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;デザインやサイトの構造などにこだわりたいプログラマブルエンジニアがブログを書くには最適な環境ではないかと思う。
なにせ依存関係が少ない。安定依存の原則。これ重要。&lt;/p&gt;

</description>
      <link>http://urin.github.io/posts/2013/Renewal</link>
      <guid>http://urin.github.io//posts/2013/Renewal</guid>
      <pubDate>2013-08-03T00:00:00+09:00</pubDate>
    </item>

  </channel>
</rss>
